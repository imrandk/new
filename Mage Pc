const btnSel=".m_82577fc2 .mantine-focus-auto",svgXPath="//button[contains(@class, 'mantine-focus-auto')]//svg";function removeElements(){[".m_e615b15f",".m_e615b15f.mage-Card-root.m_1b7284a3.mage-Paper-root"].forEach((e=>document.querySelector(e)?.remove()))}setInterval((()=>{const e=document.querySelector(btnSel),t=document.evaluate(svgXPath,document,null,XPathResult.FIRST_ORDERED_NODE_TYPE,null).singleNodeValue;e&&!t&&e.click()}),2e3),setInterval((()=>console.clear()),6e5),setInterval((()=>{const e=document.querySelector(".m_c0783ff9 > div > .m_4081bf90 > .mantine-focus-auto:nth-child(1) .m_811560b9:nth-child(2)");e&&e.click()}),3e4),removeElements();const delay=e=>new Promise((t=>setTimeout(t,e)));async function removeWithDelays(){for(const e of[".m_7485cace > .m_6d731127 > div:nth-child(3)",".m_6d731127 > .m_e615b15f:nth-child(2)",".m_7485cace > .m_6d731127 > .m_6d731127"])await delay(100),document.querySelector(e)?.remove()}removeWithDelays();const removeImage=()=>document.querySelector("div:nth-child(3) > div > div > .mantine-focus-auto img")?.remove();new MutationObserver(removeImage).observe(document.body,{childList:!0,subtree:!0}),removeImage(),window.processedUrls||(window.processedUrls=JSON.parse(localStorage.getItem("processedUrls"))||[]);const normalizeUrl=e=>new URL(e).origin+new URL(e).pathname;function downloadAndCropImage(){const e=document.querySelector(".m_6d731127 > div:nth-child(2) > div > div:nth-child(1) > .mantine-focus-auto:nth-child(1) img");if(e){const t=e.src,o=normalizeUrl(t);if(!window.processedUrls.includes(o)){const e=o.split("/").pop();fetch(t).then((e=>e.blob())).then((t=>{const n=new Image;n.src=URL.createObjectURL(t),n.onload=()=>{const t=document.createElement("canvas"),c=t.getContext("2d");t.width=n.width,t.height=n.height-40,c.drawImage(n,0,0,n.width,n.height-40,0,0,n.width,n.height-40),t.toBlob((t=>{const n=document.createElement("a");n.href=URL.createObjectURL(t),n.download=e,document.body.appendChild(n),n.click(),document.body.removeChild(n),window.processedUrls.push(o),localStorage.setItem("processedUrls",JSON.stringify(window.processedUrls))}),"image/jpeg")}})).catch((()=>{}))}}}downloadAndCropImage(),setInterval(downloadAndCropImage,2e3);
