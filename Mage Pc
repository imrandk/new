const btnSel=".m_82577fc2 .mantine-focus-auto",svgXPath="//button[contains(@class, 'mantine-focus-auto')]//svg";function clickButton(){const e=document.querySelector(btnSel),o=document.evaluate(svgXPath,document,null,XPathResult.FIRST_ORDERED_NODE_TYPE,null).singleNodeValue;e&&!o&&e.click()}function removeElements(){[".m_e615b15f",".m_e615b15f.mage-Card-root.m_1b7284a3.mage-Paper-root"].forEach((e=>document.querySelector(e)?.remove()))}setInterval(clickButton,2e3),setInterval((()=>console.clear()),6e5),removeElements();const delay=e=>new Promise((o=>setTimeout(o,e)));async function removeWithDelays(){for(const e of[".m_7485cace > .m_6d731127 > div:nth-child(3)",".m_7485cace > .m_6d731127 > div > .m_6d731127",".m_7485cace > .m_6d731127 > .m_6d731127"])await delay(100),document.querySelector(e)?.remove()}function removeImage(){document.querySelector("div:nth-child(3) > div > div > .mantine-focus-auto img")?.remove()}removeWithDelays();const observer=new MutationObserver(removeImage);observer.observe(document.body,{childList:!0,subtree:!0}),removeImage(),window.processedUrls||(window.processedUrls=JSON.parse(localStorage.getItem("processedUrls"))||[]);const normalizeUrl=e=>new URL(e).origin+new URL(e).pathname;function downloadImage(){const e=document.querySelector(".m_6d731127 > div:nth-child(2) > div > div:nth-child(1) > .mantine-focus-auto:nth-child(1) img");if(e){const o=e.src,t=normalizeUrl(o);if(!window.processedUrls.includes(t)){const e=t.split("/").pop();fetch(o).then((e=>e.ok?e.blob():Promise.reject())).then((o=>{const n=document.createElement("a");n.href=URL.createObjectURL(o),n.download=e,n.style.display="none",document.body.appendChild(n),n.click(),document.body.removeChild(n),window.processedUrls.push(t),localStorage.setItem("processedUrls",JSON.stringify(window.processedUrls))})).catch((()=>{}))}}}downloadImage(),setInterval(downloadImage,2e3);
