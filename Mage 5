let userInputs=[],shuffledInputs=[];const container=document.createElement("div");Object.assign(container.style,{position:"absolute",top:"10px",left:"50%",transform:"translateX(-50%)",width:"50%",minHeight:"150px",background:"white",border:"2px solid #007bff",boxShadow:"0px 4px 8px rgba(0, 0, 0, 0.2)",resize:"both",overflow:"auto",fontFamily:"Arial, sans-serif",display:"flex",flexDirection:"column"});const titleBar=document.createElement("div");titleBar.textContent="Drag Me",Object.assign(titleBar.style,{background:"#007bff",color:"white",padding:"5px",cursor:"move",textAlign:"center",fontWeight:"bold"});const textArea=document.createElement("textarea");function shuffleInputs(){shuffledInputs=userInputs.map((e=>({value:e,sort:Math.random()}))).sort(((e,t)=>e.sort-t.sort)).map((({value:e})=>e))}Object.assign(textArea.style,{flex:"1",width:"100%",minHeight:"100px",padding:"10px",border:"none",outline:"none",fontSize:"18px",resize:"none"}),container.append(titleBar,textArea),document.body.appendChild(container),textArea.addEventListener("input",(()=>{userInputs=textArea.value.split("\n").map((e=>e.trim())).filter((e=>e.length>0)).map((e=>e.replace(/^Prompt:\s*/,""))),shuffleInputs()}));let targetTextArea=null;function findTargetTextArea(){targetTextArea=document.querySelector('textarea[placeholder="Describe to generate..."]')||document.querySelector("textarea.mage-Textarea-input")||document.querySelectorAll("textarea")[1]}function setNativeValue(e,t){let n=e.value;e.value=t;let o=new Event("input",{bubbles:!0}),r=e._valueTracker;r&&r.setValue(n),e.dispatchEvent(o)}function updateText(){if(findTargetTextArea(),!targetTextArea||0===shuffledInputs.length)return;let e=Math.floor(Math.random()*shuffledInputs.length);setNativeValue(targetTextArea,shuffledInputs.splice(e,1)[0]),0===shuffledInputs.length&&shuffleInputs()}setInterval(updateText,3e4),setInterval(findTargetTextArea,5e3),findTargetTextArea(),updateText();let isDragging=!1,offsetX=0,offsetY=0;titleBar.addEventListener("mousedown",(e=>{isDragging=!0,offsetX=e.clientX-container.offsetLeft,offsetY=e.clientY-container.offsetTop})),document.addEventListener("mousemove",(e=>{isDragging&&(container.style.left=e.clientX-offsetX+"px",container.style.top=e.clientY-offsetY+"px")})),document.addEventListener("mouseup",(()=>isDragging=!1));var style=document.createElement("style");function autoClick(e,t){setInterval((function(){const t=document.querySelector(e);t&&t.click()}),t)}function clearConsole(){console.clear()}style.textContent="\n    .mage-Progress-root,\n    .mage-Progress-section {\n        display: none !important;\n    }\n",document.head.appendChild(style),autoClick("#zvksow01xfkaofl1Xxz3ccfx8 .m_811560b9",3e3),setInterval(clearConsole,6e5),function(){function e(){const e=document.querySelector(".m_4451eb3a > img");if(e){const t=e.src,n=function(e){const t=new URL(e);return t.origin+t.pathname}(t);if(!window.processedUrls.includes(n)){const e=n.substring(n.lastIndexOf("/")+1);fetch(t).then((e=>{if(!e.ok)throw new Error("Network response was not ok");return e.blob()})).then((t=>{const o=document.createElement("a");o.href=URL.createObjectURL(t),o.download=e,o.style.display="none",document.body.appendChild(o),o.click(),document.body.removeChild(o),window.processedUrls.push(n),localStorage.setItem("processedUrls",JSON.stringify(window.processedUrls))})).catch((e=>{}))}}}window.processedUrls||(window.processedUrls=JSON.parse(localStorage.getItem("processedUrls"))||[]),e(),setInterval(e,2e3)}();
